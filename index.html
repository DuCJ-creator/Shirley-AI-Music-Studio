<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shirley's AI Music Studio | æœˆå…‰å¥é³´æ›²</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ---------------------------------- */
        /* 1. å…¨åŸŸæ¨£å¼èˆ‡è®Šæ•¸ */
        /* ---------------------------------- */
        html { height: 100%; }
        :root {
            --clock-size: 500px;
            --rose-size: 120px;
            --status-point-size: 45px;
            --pointer-width: 14px;
            --pointer-height: 50%;
            --diamond-blue: #a7ffeb; /* éœ“è™¹é’ç¶ è‰² */
            --star-color: #e0f7fa;
            --color-deep-space: #0a0413;
            --font-family-base: 'Orbitron', sans-serif;
            --label-offset: 75px; /* æ–‡å­—æ¨™ç±¤çš„å¤–æ“´è·é›¢ */
        }

        /* ğŸŒŸ å‹•ç•«é—œéµå¹€ */
        @keyframes sparkle-blink { 0%, 70%, 100% { opacity: 1; } 5% { opacity: 0.2; transform: scale(1.01); } 10% { opacity: 1; } 15% { opacity: 0.3; } }
        @keyframes diamond-pulse { 0% { box-shadow: 0 0 60px var(--diamond-blue); } 50% { box-shadow: 0 0 90px var(--diamond-blue); } 100% { box-shadow: 0 0 60px var(--diamond-blue); } }
        @keyframes pulse-subtle { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.02); opacity: 0.95; } }
        @keyframes twinkle-pulse { 0%, 100% { transform: scale(1); opacity: 0.6; } 50% { transform: scale(1.05); opacity: 0.9; } }
        /* ğŸµ æ’­æ”¾æ™‚è¡¨ç›¤å¾ªç’°æ—‹è½‰å‹•ç•« */
        @keyframes spinning-loop {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ---------------------------------- */
        /* 2. ä½ˆå±€èˆ‡èƒŒæ™¯ */
        /* ---------------------------------- */
        body {
            margin: 0; padding: 0; height: 100vh; width: 100vw;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: radial-gradient(circle at center, #1b0a2e 0%, #0a0413 100%);
            color: var(--star-color); font-family: var(--font-family-base); overflow: hidden; position: relative;
        }

        body::before {
            /* èƒŒæ™¯å…‰é»/ç²’å­æ•ˆæœ */
            content: ''; position: absolute; width: 100%; height: 100%; background: transparent;
            box-shadow: -150px -150px 3px var(--star-color), 100px 50px 2px var(--star-color),
                -80px 200px 1px var(--star-color), 180px -100px 2px var(--star-color),
                -220px 120px 1px var(--star-color), 300px 300px 4px var(--diamond-blue),
                -400px -50px 2px var(--diamond-blue);
            animation: twinkle-pulse 10s infinite alternate; z-index: -1;
        }

        #main-container {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            position: relative; z-index: 10;
        }

        #main-title {
            color: var(--star-color); font-size: 2.2em; margin-bottom: 40px;
            text-align: center; font-weight: 700; font-family: var(--font-family-base);
            text-shadow:
                0 0 10px var(--diamond-blue),
                0 0 20px rgba(255, 255, 255, 0.8);
            animation: diamond-pulse 3s infinite alternate; z-index: 30;
        }

        /* ---------------------------------- */
        /* 3. è¡¨ç›¤ (Clock Interface) - æ’­æ”¾å‹•ç•«é€£å‹• */
        /* ---------------------------------- */
        #clock-interface {
            position: relative; width: var(--clock-size); height: var(--clock-size); border-radius: 50%;
            background: radial-gradient(circle, #222 0%, #000 80%);
            border: 15px solid rgba(224, 247, 250, 0.9);
            box-shadow: 0 0 60px var(--diamond-blue), 0 0 30px rgba(255, 255, 255, 0.8),
                inset 0 0 30px rgba(0, 0, 0, 0.9), inset 0 0 10px rgba(255, 255, 255, 0.7);
            animation: diamond-pulse 4s infinite alternate;
            z-index: 10;
            transition: transform 0.5s ease-out;
        }
        /* æ’­æ”¾æ™‚ï¼Œè¡¨ç›¤é–‹å§‹æ…¢é€Ÿæ—‹è½‰ */
        .is-playing #clock-interface {
            animation: spinning-loop 120s linear infinite, diamond-pulse 4s infinite alternate;
        }

        .clock-face {
            width: 100%; height: 100%; position: relative; border-radius: 50%;
            display: flex; justify-content: center; align-items: center; overflow: hidden;
        }

        /* ğŸŒ¹ ç«ç‘° */
        #rose-container {
            position: absolute; width: var(--rose-size); height: var(--rose-size);
            top: calc(50% - var(--rose-size) / 2); left: calc(50% - var(--rose-size) / 2);
            z-index: 15;
            animation: pulse-subtle 4s infinite ease-in-out;
        }
        #fendala-rose { width: 100%; height: 100%; object-fit: contain; transition: opacity 0.3s, transform 0.5s ease-in-out, filter 0.5s ease-in-out; }

        /* æ™‚é‡/æŒ‡ç¤ºæ£’ */
        #pointer-hand {
            position: absolute; width: var(--pointer-width); height: var(--pointer-height);
            top: 0; left: calc(50% - var(--pointer-width) / 2); transform-origin: bottom center;
            background: linear-gradient(to top, var(--diamond-blue), rgba(255, 255, 255, 0.8), rgba(0,0,0,0));
            border-radius: 5px; box-shadow: 0 0 20px var(--diamond-blue), 0 0 10px #fff;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 5; pointer-events: none;
            transform: rotate(0deg);
        }
        /* æ’­æ”¾æ™‚æŒ‡é‡å›ºå®šåœ¨ EMO ç‹€æ…‹ */
        .is-playing #pointer-hand {
            transition: none;
            animation: none;
            transform: rotate(90deg) scale(1.05);
        }


        /* ğŸŒŸ ç‹€æ…‹é» - å„ªåŒ–æ–‡å­—å¯è¦‹æ€§ */
        .status-point {
            position: absolute; width: var(--status-point-size); height: var(--status-point-size); border-radius: 50%;
            background-color: rgba(167, 255, 235, 0.1); border: 2px solid var(--diamond-blue);
            box-shadow: 0 0 20px var(--diamond-blue), 0 0 10px #fff;
            transition: transform 0.4s ease-in-out, background-color 0.4s;
            cursor: pointer; display: flex; justify-content: center; align-items: center;
            z-index: 20;
            backdrop-filter: blur(2px);
            animation: sparkle-blink 3s infinite alternate;
        }

        /* ** å„ªåŒ–é» 1: ç‹€æ…‹é»æ¨™ç±¤ - å¢åŠ é™°å½±å’Œå®šä½ ** */
        .status-point .label {
            position: absolute;
            color: var(--star-color);
            font-size: 1.1em;
            font-weight: 700;
            white-space: nowrap;
            z-index: 25;
            /* é—œéµ: å¢åŠ å¼·çƒˆçš„é»‘é‚Šå’Œå…‰æšˆï¼Œç¢ºä¿åœ¨é»‘è‰²èƒŒæ™¯ä¸Šæ¸…æ™°å¯è¦‹ */
            text-shadow: 
                0 0 2px var(--color-deep-space), 
                0 0 5px var(--color-deep-space), 
                0 0 10px var(--diamond-blue);
            padding: 2px 4px; /* å¢åŠ ä¸€é»é»ç©ºé–“ */
            background-color: rgba(0, 0, 0, 0.3); /* è¼•å¾®é»‘è‰²èƒŒæ™¯ä»¥ç¢ºä¿å°æ¯” */
            border-radius: 5px;
        }

        /* ç‹€æ…‹é»ä½ç½® */
        #point-12 { top: 0px; left: calc(50% - var(--status-point-size) / 2); }
        #point-3 { right: 0px; top: calc(50% - var(--status-point-size) / 2); }
        #point-6 { bottom: 0px; left: calc(50% - var(--status-point-size) / 2); }
        #point-9 { left: 0px; top: calc(50% - var(--status-point-size) / 2); }

        /* ç‹€æ…‹é»æ¨™ç±¤ç²¾ç¢ºå®šä½ (ç¢ºä¿æ–‡å­—åœ¨å¤–å´) */
        #point-12 .label { top: calc(0px - var(--label-offset) + 20px); transform: translateX(-50%); left: 50%; }
        #point-3 .label { right: calc(0px - var(--label-offset) + 30px); top: 50%; transform: translateY(-50%); }
        #point-6 .label { bottom: calc(0px - var(--label-offset) + 20px); transform: translateX(-50%); left: 50%; }
        #point-9 .label { left: calc(0px - var(--label-offset) + 30px); top: 50%; transform: translateY(-50%); }

        /* ğŸŒ¹ ç«ç‘°ç‹€æ…‹ CSS (ä¿æŒä¸è®Š) */
        .rose-unopened { filter: grayscale(0%); animation: pulse-subtle 4s infinite ease-in-out; }
        .rose-dead { opacity: 0.5; transform: scale(0.9); filter: saturate(0.2) brightness(0.7); animation: none; }
        .rose-emo { opacity: 0.8; filter: saturate(0.5) brightness(0.9); animation: pulse-slow 3s infinite ease-in-out; }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.03); } }
        .rose-charging { transform: scale(1.1); filter: saturate(1.2) hue-rotate(20deg); animation: pulse-medium 2s infinite ease-in-out; }
        @keyframes pulse-medium { 0%, 100% { transform: scale(1.1); } 50% { transform: scale(1.15); } }
        .rose-learning { transform: scale(1.2); filter: saturate(2) brightness(1.2); box-shadow: 0 0 15px var(--diamond-blue); animation: pulse-strong 1.5s infinite ease-in-out; }
        @keyframes pulse-strong { 0%, 100% { transform: scale(1.2); } 50% { transform: scale(1.25); } }


        /* ---------------------------------- */
        /* 5. Video æ’­æ”¾å™¨ - ç²¾ç·»ç»ç’ƒåŒ£å­ (å„ªåŒ–é» 2) */
        /* ---------------------------------- */

        /* æ’­æ”¾å™¨å®¹å™¨ (ç»ç’ƒåŒ£å­) */
        #video-player-container {
            width: 400px;
            height: 250px; /* ç‚ºå½±ç‰‡é ç•™ç©ºé–“ */
            margin-top: 50px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            
            /* ** ç»ç’ƒåŒ£å­æ¨£å¼ ** */
            background: rgba(10, 4, 19, 0.6);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(167, 255, 235, 0.4);
            box-shadow: 0 0 30px rgba(167, 255, 235, 0.8), inset 0 0 10px rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            overflow: hidden; /* ç¢ºä¿å…§å®¹ä¸æº¢å‡º */
            z-index: 50;
        }

        /* æ’­æ”¾å™¨å…‰æšˆå‹•ç•« */
        .is-playing #video-player-container {
             box-shadow: 0 0 45px var(--diamond-blue), inset 0 0 15px rgba(255, 255, 255, 0.3);
             animation: pulse-subtle 3s infinite ease-in-out;
        }

        /* å½±ç‰‡å…ƒç´ æ¨£å¼ */
        #moonlight-video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* ç¢ºä¿å¡«æ»¿å®¹å™¨ */
            display: block;
            cursor: pointer;
            transition: opacity 0.3s;
        }
        
        /* æ’­æ”¾/æš«åœæŒ‰éˆ• (ç½®ä¸­ä¸¦æ”¾å¤§) */
        #play-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 60;
            background: rgba(0, 0, 0, 0.3); /* è¼•å¾®è¦†è“‹ä»¥é¡¯ç¤ºæŒ‰éˆ• */
            transition: opacity 0.3s;
        }
        
        .play-button {
            background: var(--diamond-blue);
            color: var(--color-deep-space);
            border: none;
            padding: 20px 30px;
            font-size: 2.5em;
            cursor: pointer;
            border-radius: 50%;
            transition: all 0.3s;
            box-shadow: 0 0 20px var(--diamond-blue), 0 0 10px #fff;
            pointer-events: all; /* ç¢ºä¿å¯ä»¥é»æ“Š */
        }
        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px var(--diamond-blue), 0 0 15px #fff;
        }
        
        /* æ’­æ”¾æ™‚éš±è—è¦†è“‹å±¤ */
        #video-player-container.playing #play-overlay {
            opacity: 0;
            pointer-events: none;
        }

    </style>
</head>
<body>
    <div id="main-container">
        <h1 id="main-title">Shirleyâ€™s AI Music Studio | æœˆå…‰å¥é³´æ›²</h1>

        <div id="clock-interface">
            <div class="clock-face">

                <div id="rose-container">
                    <img id="fendala-rose"
                            src="https://ducj-creator.github.io/Shirley-AI-Music-Studio/assets/images/rose%20unopened.png"
                            alt="æœªé–‹çš„ç™½è‰²ç«ç‘°">
                </div>

                <div id="pointer-hand"></div>

                <a href="#" class="status-point" id="point-12" data-status="dead" data-angle="0">
                    <span class="label">æ“ºçˆ›ä¸­</span>
                </a>

                <a href="#" class="status-point" id="point-3" data-status="emo" data-angle="90">
                    <span class="label">EMOä¸­</span>
                </a>

                <a href="#" class="status-point" id="point-6" data-status="charging" data-angle="180">
                    <span class="label">å……é›»ä¸­</span>
                </a>

                <a href="learning.html" class="status-point active-point" id="point-9" data-status="learning" data-angle="270">
                    <span class="label">å­¸ç¿’ä¸­</span>
                </a>
            </div>
        </div>

        <div id="video-player-container">
            
            <video id="moonlight-video" loop>
                <source src="https://ducj-creator.github.io/Shirley-AI-Music-Studio/assets/moonlight%20sonata.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            
            <div id="play-overlay">
                <button class="play-button" id="toggle-play">â–¶</button>
            </div>
        </div>
    </div>

    <script>
        // ----------------------------------
        // æ ¸å¿ƒ JavaScript é‚è¼¯ (é€£å‹• Video æ’­æ”¾)
        // ----------------------------------

        const mainContainer = document.getElementById('main-container');
        const roseElement = document.getElementById('fendala-rose');
        const pointerHand = document.getElementById('pointer-hand');
        const statusPoints = document.querySelectorAll('.status-point');

        // Video ç›¸é—œå…ƒç´ 
        const videoPlayerContainer = document.getElementById('video-player-container');
        const videoElement = document.getElementById('moonlight-video');
        const togglePlayButton = document.getElementById('toggle-play');
        const playOverlay = document.getElementById('play-overlay');


        const statusAngles = {
            'dead': 0,
            'emo': 90,
            'charging': 180,
            'learning': 270
        };
        const defaultAngle = 0;

        roseElement.classList.add('rose-unopened');

        // 1. ç‹€æ…‹é»äº’å‹•é‚è¼¯ (åªåœ¨ Video æš«åœæ™‚éŸ¿æ‡‰ mouseover)
        statusPoints.forEach(point => {
            const status = point.getAttribute('data-status');
            const targetAngle = statusAngles[status];

            point.addEventListener('mouseover', () => {
                if (videoElement.paused) {
                    pointerHand.style.transform = `rotate(${targetAngle}deg)`;
                    roseElement.className = '';
                    roseElement.classList.add(`rose-${status}`);
                }
            });

            point.addEventListener('mouseout', () => {
                if (videoElement.paused) {
                    pointerHand.style.transform = `rotate(${defaultAngle}deg)`;
                    roseElement.className = '';
                    roseElement.classList.add('rose-unopened');
                }
            });

            point.addEventListener('click', (e) => {
                if (status !== 'learning') {
                    e.preventDefault();
                    if (!videoElement.paused) {
                         videoElement.pause();
                    }
                    alert(`æ‚¨é»æ“Šäº† [${point.querySelector('.label').textContent}]ï¼Œå°‡æ‰“é–‹å°æ‡‰çš„éŸ³æ¨‚é¸å–®ï¼`);
                }
            });
        });


        // 2. Video æ§åˆ¶é‚è¼¯ (æ’­æ”¾/æš«åœèˆ‡è¡¨ç›¤é€£å‹•)
        togglePlayButton.addEventListener('click', () => {
            if (videoElement.paused) {
                // å˜—è©¦æ’­æ”¾ï¼Œå¦‚æœæˆåŠŸï¼Œæœƒè§¸ç™¼ 'play' äº‹ä»¶
                videoElement.play().catch(error => {
                    console.error("Video æ’­æ”¾å¤±æ•—ï¼Œå¯èƒ½æ˜¯ç€è¦½å™¨é˜»æ­¢è‡ªå‹•æ’­æ”¾:", error);
                    alert("Video æ’­æ”¾å¤±æ•—ï¼Œè«‹ç¢ºä¿ç€è¦½å™¨å…è¨±è‡ªå‹•æ’­æ”¾æˆ–æ‰‹å‹•æ“ä½œä¸€æ¬¡ï¼");
                });
            } else {
                videoElement.pause(); // æœƒè§¸ç™¼ 'pause' äº‹ä»¶
            }
        });
        
        // ** Video å…ƒç´ æœ¬èº«ä¹Ÿå¯ä»¥é»æ“Šæš«åœ **
        videoElement.addEventListener('click', () => {
             if (!videoElement.paused) {
                 videoElement.pause();
             }
        });

        // æ’­æ”¾äº‹ä»¶ï¼šå•Ÿå‹•è¡¨ç›¤æ—‹è½‰å‹•ç•«
        videoElement.addEventListener('play', () => {
            togglePlayButton.textContent = 'â¸';
            videoPlayerContainer.classList.add('playing');
            mainContainer.classList.add('is-playing');
            
            // æŒ‡é‡å’Œç«ç‘°é€²å…¥ EMO ç‹€æ…‹
            pointerHand.style.transform = `rotate(${statusAngles['emo']}deg)`;
            roseElement.className = '';
            roseElement.classList.add('rose-emo');
        });

        // æš«åœäº‹ä»¶ï¼šåœæ­¢è¡¨ç›¤æ—‹è½‰å‹•ç•«
        videoElement.addEventListener('pause', () => {
            togglePlayButton.textContent = 'â–¶';
            videoPlayerContainer.classList.remove('playing');
            mainContainer.classList.remove('is-playing');
            
            // æŒ‡é‡å’Œç«ç‘°å›åˆ°é è¨­ç‹€æ…‹
            pointerHand.style.transform = `rotate(${defaultAngle}deg)`;
            roseElement.className = '';
            roseElement.classList.add('rose-unopened');
        });

        // æ’­æ”¾çµæŸæ™‚ (å¦‚æœ loop å±¬æ€§è¢«ç§»é™¤)
        videoElement.addEventListener('ended', () => {
             videoElement.pause();
             videoElement.currentTime = 0;
        });

    </script>
</body>
</html>
