<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shirley's AI Music Studio | æœˆå…‰å¥é³´æ›²</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ---------------------------------- */
        /* 1. å…¨åŸŸæ¨£å¼èˆ‡è®Šæ•¸ */
        /* ---------------------------------- */
        html { height: 100%; }
        :root {
            --clock-size: 500px;
            --rose-size: 120px;
            --status-point-size: 85px; /* **å¤§å¹…æ”¾å¤§åœ“é»** ä»¥å®¹ç´æ–‡å­— */
            --pointer-width: 14px;
            --pointer-height: 50%;
            --diamond-blue: #a7ffeb;
            --star-color: #e0f7fa;
            --color-deep-space: #0a0413;
            --font-family-base: 'Orbitron', sans-serif;
            --label-offset: 75px;
        }

        /* ğŸŒŸ å‹•ç•«é—œéµå¹€ (ä¿æŒä¸è®Š) */
        @keyframes sparkle-blink { 0%, 70%, 100% { opacity: 1; } 5% { opacity: 0.2; transform: scale(1.01); } 10% { opacity: 1; } 15% { opacity: 0.3; } }
        @keyframes diamond-pulse { 0% { box-shadow: 0 0 60px var(--diamond-blue); } 50% { box-shadow: 0 0 90px var(--diamond-blue); } 100% { box-shadow: 0 0 60px var(--diamond-blue); } }
        @keyframes pulse-subtle { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.02); opacity: 0.95; } }
        @keyframes twinkle-pulse { 0%, 100% { transform: scale(1); opacity: 0.6; } 50% { transform: scale(1.05); opacity: 0.9; } }
        @keyframes spinning-loop {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ---------------------------------- */
        /* 2. ä½ˆå±€èˆ‡èƒŒæ™¯ (ä¿æŒä¸è®Š) */
        /* ---------------------------------- */
        body {
            margin: 0; padding: 0; height: 100vh; width: 100vw;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: radial-gradient(circle at center, #1b0a2e 0%, #0a0413 100%);
            color: var(--star-color); font-family: var(--font-family-base); overflow: hidden; position: relative;
        }

        body::before {
            content: ''; position: absolute; width: 100%; height: 100%; background: transparent;
            box-shadow: -150px -150px 3px var(--star-color), 100px 50px 2px var(--star-color),
                -80px 200px 1px var(--star-color), 180px -100px 2px var(--star-color),
                -220px 120px 1px var(--star-color), 300px 300px 4px var(--diamond-blue),
                -400px -50px 2px var(--diamond-blue);
            animation: twinkle-pulse 10s infinite alternate; z-index: -1;
        }

        #main-container {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            position: relative; z-index: 10;
        }

        #main-title {
            color: var(--star-color); font-size: 2.2em; margin-bottom: 40px;
            text-align: center; font-weight: 700; font-family: var(--font-family-base);
            text-shadow:
                0 0 10px var(--diamond-blue),
                0 0 20px rgba(255, 255, 255, 0.8);
            animation: diamond-pulse 3s infinite alternate; z-index: 30;
        }

        /* ---------------------------------- */
        /* 3. è¡¨ç›¤ (Clock Interface) */
        /* ---------------------------------- */
        #clock-interface {
            position: relative; width: var(--clock-size); height: var(--clock-size); border-radius: 50%;
            background: radial-gradient(circle, #222 0%, #000 80%);
            border: 15px solid rgba(224, 247, 250, 0.9);
            box-shadow: 0 0 60px var(--diamond-blue), 0 0 30px rgba(255, 255, 255, 0.8),
                inset 0 0 30px rgba(0, 0, 0, 0.9), inset 0 0 10px rgba(255, 255, 255, 0.7);
            animation: diamond-pulse 4s infinite alternate;
            z-index: 10;
            transition: transform 0.5s ease-out;
        }
        .is-playing #clock-interface {
            animation: spinning-loop 120s linear infinite, diamond-pulse 4s infinite alternate;
        }

        .clock-face {
            width: 100%; height: 100%; position: relative; border-radius: 50%;
            display: flex; justify-content: center; align-items: center; overflow: hidden;
        }

        /* ğŸŒ¹ ç«ç‘° & æŒ‡é‡ (ä¿æŒä¸è®Š) */
        #rose-container {
            position: absolute; width: var(--rose-size); height: var(--rose-size);
            top: calc(50% - var(--rose-size) / 2); left: calc(50% - var(--rose-size) / 2);
            z-index: 15;
            animation: pulse-subtle 4s infinite ease-in-out;
        }
        #fendala-rose { width: 100%; height: 100%; object-fit: contain; transition: opacity 0.3s, transform 0.5s ease-in-out, filter 0.5s ease-in-out; }
        #pointer-hand {
            position: absolute; width: var(--pointer-width); height: var(--pointer-height);
            top: 0; left: calc(50% - var(--pointer-width) / 2); transform-origin: bottom center;
            background: linear-gradient(to top, var(--diamond-blue), rgba(255, 255, 255, 0.8), rgba(0,0,0,0));
            border-radius: 5px; box-shadow: 0 0 20px var(--diamond-blue), 0 0 10px #fff;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 5; pointer-events: none;
            transform: rotate(0deg);
        }
        .is-playing #pointer-hand {
            transition: none; animation: none;
            transform: rotate(90deg) scale(1.05);
        }

        /* ---------------------------------- */
        /* 4. ç‹€æ…‹é» - çµ‚æ¥µå„ªåŒ– (æ–‡å­—å…§åµŒ) */
        /* ---------------------------------- */
        .status-point {
            position: absolute;
            width: var(--status-point-size);
            height: var(--status-point-size);
            border-radius: 50%;
            /* è®“èƒŒæ™¯é¡è‰²æ›´æ·±ï¼Œæé«˜å…§åµŒæ–‡å­—çš„å°æ¯”åº¦ */
            background-color: rgba(10, 4, 19, 0.8); 
            border: 4px solid var(--diamond-blue); /* é‚Šæ¡†åŠ ç²— */
            box-shadow: 0 0 25px var(--diamond-blue), 0 0 15px #fff;
            transition: transform 0.4s ease-in-out, background-color 0.4s;
            cursor: pointer;
            display: flex; 
            justify-content: center; 
            align-items: center;
            z-index: 20;
            backdrop-filter: blur(2px);
            animation: sparkle-blink 3s infinite alternate;
            text-align: center; /* ç¢ºä¿æ–‡å­—å±…ä¸­ */
        }

        /* ç‹€æ…‹é»å®šä½ (ç”±æ–¼åœ“é»è®Šå¤§ï¼Œéœ€è¦èª¿æ•´å…¶ä¸­å¿ƒä½ç½®) */
        #point-12 { top: calc(0% + 15px); left: calc(50% - var(--status-point-size) / 2); }
        #point-3 { right: calc(0% + 15px); top: calc(50% - var(--status-point-size) / 2); }
        #point-6 { bottom: calc(0% + 15px); left: calc(50% - var(--status-point-size) / 2); }
        #point-9 { left: calc(0% + 15px); top: calc(50% - var(--status-point-size) / 2); }

        .status-point:hover {
            transform: scale(1.15); background-color: rgba(167, 255, 235, 0.2);
            box-shadow: 0 0 40px var(--diamond-blue), 0 0 15px #fff;
        }

        /* ** å„ªåŒ–é» 1: æ–‡å­—å…§åµŒåœ¨åœ“é»ä¸­å¤® ** */
        .status-point .label {
            position: static; /* è®“æ–‡å­—åœ¨ flex å®¹å™¨ä¸­å±…ä¸­ */
            color: var(--star-color);
            font-size: 1.0em; /* èª¿æ•´å¤§å°ä»¥é©æ‡‰åœ“é» */
            font-weight: 700;
            white-space: normal; /* å…è¨±æ–‡å­—æ›è¡Œï¼Œä»¥å®¹ç´é•·åº¦ */
            line-height: 1.3;
            /* é—œéµ: å¼·çƒˆçš„éœ“è™¹æ–‡å­—å¤–ç™¼å…‰ï¼Œç¢ºä¿åœ¨æ·±è‰²èƒŒæ™¯ä¸­æ¸…æ™°çªå‡º */
            text-shadow: 
                0 0 5px var(--diamond-blue), 
                0 0 10px var(--diamond-blue), 
                0 0 1px #fff;
            padding: 5px; 
            z-index: 25;
            max-width: 80%; /* é™åˆ¶æ–‡å­—å¯¬åº¦ */
        }
        
        /* ç”±æ–¼æ–‡å­—å·²ç¶“åœ¨åœ“é»å…§éƒ¨ï¼Œä¸éœ€è¦å¤–éƒ¨å®šä½ */
        #point-12 .label, #point-3 .label, #point-6 .label, #point-9 .label {
            position: static;
            transform: none; 
            left: auto;
            right: auto;
            top: auto;
            bottom: auto;
        }

        /* ---------------------------------- */
        /* 5. Video æ’­æ”¾å™¨ - ç²¾ç·»ç»ç’ƒåŒ£å­ (ä¿æŒä¸è®Š) */
        /* ---------------------------------- */
        #video-player-container {
            width: 400px; height: 250px; 
            margin-top: 50px; position: relative;
            display: flex; justify-content: center; align-items: center;
            background: rgba(10, 4, 19, 0.6);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(167, 255, 235, 0.4);
            box-shadow: 0 0 30px rgba(167, 255, 235, 0.8), inset 0 0 10px rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            overflow: hidden;
            z-index: 50;
        }
        .is-playing #video-player-container {
             box-shadow: 0 0 45px var(--diamond-blue), inset 0 0 15px rgba(255, 255, 255, 0.3);
             animation: pulse-subtle 3s infinite ease-in-out;
        }
        #moonlight-video {
            width: 100%; height: 100%; object-fit: cover; 
            display: block; cursor: pointer; transition: opacity 0.3s;
        }
        #play-overlay {
            position: absolute; width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; z-index: 60;
            background: rgba(0, 0, 0, 0.3);
            transition: opacity 0.3s;
        }
        .play-button {
            background: var(--diamond-blue); color: var(--color-deep-space);
            border: none; padding: 20px 30px; font-size: 2.5em;
            cursor: pointer; border-radius: 50%; transition: all 0.3s;
            box-shadow: 0 0 20px var(--diamond-blue), 0 0 10px #fff;
            pointer-events: all;
        }
        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px var(--diamond-blue), 0 0 15px #fff;
        }
        #video-player-container.playing #play-overlay {
            opacity: 0;
            pointer-events: none;
        }

    </style>
</head>
<body>
    <div id="main-container">
        <h1 id="main-title">Shirleyâ€™s AI Music Studio | æœˆå…‰å¥é³´æ›²</h1>

        <div id="clock-interface">
            <div class="clock-face">

                <div id="rose-container">
                    <img id="fendala-rose"
                            src="https://ducj-creator.github.io/Shirley-AI-Music-Studio/assets/images/rose%20unopened.png"
                            alt="æœªé–‹çš„ç™½è‰²ç«ç‘°">
                </div>

                <div id="pointer-hand"></div>

                <a href="#" class="status-point" id="point-12" data-status="dead" data-angle="0">
                    <span class="label">æ“ºçˆ›ä¸­</span>
                </a>

                <a href="#" class="status-point" id="point-3" data-status="emo" data-angle="90">
                    <span class="label">EMOä¸­</span>
                </a>

                <a href="#" class="status-point" id="point-6" data-status="charging" data-angle="180">
                    <span class="label">å……é›»ä¸­</span>
                </a>

                <a href="learning.html" class="status-point active-point" id="point-9" data-status="learning" data-angle="270">
                    <span class="label">å­¸ç¿’ä¸­</span>
                </a>
            </div>
        </div>

        <div id="video-player-container">
            
            <video id="moonlight-video" loop>
                <source src="https://ducj-creator.github.io/Shirley-AI-Music-Studio/assets/moonlight%20sonata.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            
            <div id="play-overlay">
                <button class="play-button" id="toggle-play">â–¶</button>
            </div>
        </div>
    </div>

    <script>
        // ----------------------------------
        // æ ¸å¿ƒ JavaScript é‚è¼¯ (ä¿æŒä¸è®Š)
        // ----------------------------------

        const mainContainer = document.getElementById('main-container');
        const roseElement = document.getElementById('fendala-rose');
        const pointerHand = document.getElementById('pointer-hand');
        const statusPoints = document.querySelectorAll('.status-point');
        const videoPlayerContainer = document.getElementById('video-player-container');
        const videoElement = document.getElementById('moonlight-video');
        const togglePlayButton = document.getElementById('toggle-play');
        const playOverlay = document.getElementById('play-overlay');


        const statusAngles = {
            'dead': 0,
            'emo': 90,
            'charging': 180,
            'learning': 270
        };
        const defaultAngle = 0;

        roseElement.classList.add('rose-unopened');

        // 1. ç‹€æ…‹é»äº’å‹•é‚è¼¯
        statusPoints.forEach(point => {
            const status = point.getAttribute('data-status');
            const targetAngle = statusAngles[status];

            point.addEventListener('mouseover', () => {
                if (videoElement.paused) {
                    pointerHand.style.transform = `rotate(${targetAngle}deg)`;
                    roseElement.className = '';
                    roseElement.classList.add(`rose-${status}`);
                }
            });

            point.addEventListener('mouseout', () => {
                if (videoElement.paused) {
                    pointerHand.style.transform = `rotate(${defaultAngle}deg)`;
                    roseElement.className = '';
                    roseElement.classList.add('rose-unopened');
                }
            });

            point.addEventListener('click', (e) => {
                if (status !== 'learning') {
                    e.preventDefault();
                    if (!videoElement.paused) {
                         videoElement.pause();
                    }
                    alert(`æ‚¨é»æ“Šäº† [${point.querySelector('.label').textContent}]ï¼Œå°‡æ‰“é–‹å°æ‡‰çš„éŸ³æ¨‚é¸å–®ï¼`);
                }
            });
        });


        // 2. Video æ§åˆ¶é‚è¼¯
        togglePlayButton.addEventListener('click', () => {
            if (videoElement.paused) {
                videoElement.play().catch(error => {
                    console.error("Video æ’­æ”¾å¤±æ•—ï¼Œå¯èƒ½æ˜¯ç€è¦½å™¨é˜»æ­¢è‡ªå‹•æ’­æ”¾:", error);
                    alert("Video æ’­æ”¾å¤±æ•—ï¼Œè«‹ç¢ºä¿ç€è¦½å™¨å…è¨±è‡ªå‹•æ’­æ”¾æˆ–æ‰‹å‹•æ“ä½œä¸€æ¬¡ï¼");
                });
            } else {
                videoElement.pause();
            }
        });
        
        videoElement.addEventListener('click', () => {
             if (!videoElement.paused) {
                 videoElement.pause();
             }
        });

        videoElement.addEventListener('play', () => {
            togglePlayButton.textContent = 'â¸';
            videoPlayerContainer.classList.add('playing');
            mainContainer.classList.add('is-playing');
            
            pointerHand.style.transform = `rotate(${statusAngles['emo']}deg)`;
            roseElement.className = '';
            roseElement.classList.add('rose-emo');
        });

        videoElement.addEventListener('pause', () => {
            togglePlayButton.textContent = 'â–¶';
            videoPlayerContainer.classList.remove('playing');
            mainContainer.classList.remove('is-playing');
            
            pointerHand.style.transform = `rotate(${defaultAngle}deg)`;
            roseElement.className = '';
            roseElement.classList.add('rose-unopened');
        });

        videoElement.addEventListener('ended', () => {
             videoElement.pause();
             videoElement.currentTime = 0;
        });

    </script>
</body>
</html>
